<!DOCTYPE html>
<html>
<head>
  <title>Geolocation Test</title>
</head>
<body>
  <div id="location">
    [latitude, longitude]: <span id="lat"></span>, <span id="long"></span>
  </div>
  <ul id="matches">
  </ul>
  
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  
  <script type="text/javascript">
    function geoSuccess(loc) {
      $('#long').text(loc.coords.longitude);
      $('#lat').text(loc.coords.latitude);
      
      $.post('scripts/geo.php', 
        {
          'long': loc.coords.longitude,
          'lat': loc.coords.latitude,
          'id': 0
        },
        function(data) {
          //$('#matches').append('<li>' + data + '</li>');
          console.log(data);
        }
      );
    }
    
    function geoFail(e) {
      $('#location').text('Error: ' + e);
    }
    
    if (navigator.geolocation !== undefined) {
      navigator.geolocation.getCurrentPosition(geoSuccess, geoFail);
    }
  </script>
</body>
</html>